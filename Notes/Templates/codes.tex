\documentclass[12pt,a4paper]{ctexart}
% 基础宏包
\usepackage{booktabs}       % 三线表
\usepackage{xcolor}         % 颜色支持
\usepackage{listings}       % 代码高亮
\usepackage{tcolorbox}      % 彩色盒子，用于代码块
\usepackage{enumitem}       % 列表样式控制
\usepackage{geometry}       % 页面布局

% tcolorbox配置
\tcbuselibrary{listings, skins, breakable}

% 页面设置
\geometry{margin=2.5cm}     % 页边距
\linespread{1.2}            % 行间距，提高可读性

% 字体设置
\setCJKmainfont{SimSun}[BoldFont=SimHei]  % 正文宋体，粗体黑体            
\setmainfont{Times New Roman}             

% 列表样式设置
\setlist[itemize,1]{label=\textbullet, leftmargin=2em}
\setlist[itemize,2]{label=$\circ$, leftmargin=2em}

% 代码块样式 - Typora风格优化
\newtcblisting{codeblock}[1][]{
    listing only,
    listing engine=listings,
    colback=gray!10,        % 代码主体背景
    colframe=gray!60,       % 外框颜色
    arc=0mm,                % 直角
    boxrule=0.8pt,
    left=0pt,
    right=0pt,
    top=0pt,
    bottom=0pt,
    enhanced,
    breakable,
    overlay={%
        % 左侧行号背景
        \fill[gray!10] (frame.south west) rectangle ([xshift=2em]frame.north west);
        % 左侧竖线
        \draw[gray!60,line width=0.8pt] ([xshift=2em]frame.south west) -- ([xshift=2em]frame.north west);
    },
    listing options={
        language=Python,
        basicstyle=\ttfamily\small,
        keywordstyle=\color{blue},
        commentstyle=\color{orange},
        stringstyle=\color{red},
        numbers=left,
        numberstyle=\normal\color{gray},
        stepnumber=1,
        numbersep=15pt,           % 行号和竖线间距
        xleftmargin=2.5em,       % 行号+竖线宽度
        frame=none,              % 外框由 tcolorbox 提供
        breaklines=true,
        showstringspaces=false,
        tabsize=4,
        #1
    }
}

\begin{document}

\end{document}
